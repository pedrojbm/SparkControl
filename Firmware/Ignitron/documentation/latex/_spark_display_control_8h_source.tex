\hypertarget{_spark_display_control_8h_source}{}\doxysection{Spark\+Display\+Control.\+h}
\mbox{\hyperlink{_spark_display_control_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * SparkDisplayControl.h}}
\DoxyCodeLine{3 \textcolor{comment}{ *}}
\DoxyCodeLine{4 \textcolor{comment}{ *  Created on: 23.08.2021}}
\DoxyCodeLine{5 \textcolor{comment}{ *      Author: stangreg}}
\DoxyCodeLine{6 \textcolor{comment}{ */}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#ifndef SPARKDISPLAYCONTROL\_H\_}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#define SPARKDISPLAYCONTROL\_H\_}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <Adafruit\_GFX.h>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <Adafruit\_SSD1306.h>} \textcolor{comment}{//https://github.com/adafruit/Adafruit\_SSD1306}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_spark_data_control_8h}{SparkDataControl.h}}"{}}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{comment}{// OLED Screen config}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#define SCREEN\_WIDTH 128 }\textcolor{comment}{// Display width}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#define SCREEN\_HEIGHT 64 }\textcolor{comment}{// Display height}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#define OLED\_RESET    -\/1 }\textcolor{comment}{// Reset pin \# (or -\/1 if sharing Arduino reset pin)}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#define DISPLAY\_MIN\_X\_FACTOR -\/12 }\textcolor{comment}{// for text size 2, scales linearly with text size}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{comment}{// Splash logo measurements}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#define imageWidth 128}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#define imageHeight 47}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{keyword}{class }\mbox{\hyperlink{class_spark_data_control}{SparkDataControl}};}
\DoxyCodeLine{27 }
\DoxyCodeLine{28 \textcolor{keyword}{class }\mbox{\hyperlink{class_spark_display_control}{SparkDisplayControl}} \{}
\DoxyCodeLine{29 \textcolor{keyword}{public}:}
\DoxyCodeLine{30     \mbox{\hyperlink{class_spark_display_control_a8c8232d375ede7c8b4b6831e4e448115}{SparkDisplayControl}}();}
\DoxyCodeLine{31     \mbox{\hyperlink{class_spark_display_control_a8c8232d375ede7c8b4b6831e4e448115}{SparkDisplayControl}}(\mbox{\hyperlink{class_spark_data_control}{SparkDataControl}}* dc);}
\DoxyCodeLine{32     \textcolor{keyword}{virtual} \mbox{\hyperlink{class_spark_display_control_a3ecd84ae007b3d84d86e49365ddde2a6}{\string~SparkDisplayControl}}();}
\DoxyCodeLine{33     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_spark_display_control_a01fcbe542e267f63ada09441442cf316}{init}}(\textcolor{keywordtype}{int} mode);}
\DoxyCodeLine{34     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_spark_display_control_ad85901859a92947aa9e6bcb94c60b0d5}{update}}(\textcolor{keywordtype}{bool} isInitBoot = \textcolor{keyword}{false});}
\DoxyCodeLine{35 }
\DoxyCodeLine{36 }
\DoxyCodeLine{37 \textcolor{keyword}{private}:}
\DoxyCodeLine{38     \textcolor{keyword}{static} Adafruit\_SSD1306 display;}
\DoxyCodeLine{39     \mbox{\hyperlink{class_spark_data_control}{SparkDataControl}}* spark\_dc;}
\DoxyCodeLine{40     \textcolor{keywordtype}{int} activeBank = 1;}
\DoxyCodeLine{41     \textcolor{keywordtype}{int} pendingBank = 1;}
\DoxyCodeLine{42     \textcolor{keyword}{const} \mbox{\hyperlink{struct_preset}{Preset}}* activePreset;}
\DoxyCodeLine{43     \textcolor{keyword}{const} \mbox{\hyperlink{struct_preset}{Preset}}* pendingPreset;}
\DoxyCodeLine{44     \textcolor{keyword}{const} \mbox{\hyperlink{struct_preset}{Preset}}* presetFromApp;}
\DoxyCodeLine{45     \textcolor{keywordtype}{int} presetEditMode;}
\DoxyCodeLine{46     \textcolor{keywordtype}{int} buttonMode = 1;}
\DoxyCodeLine{47     \textcolor{keywordtype}{int} activePresetNum = 1;}
\DoxyCodeLine{48     \textcolor{keywordtype}{int} selectedPresetNum = 1;}
\DoxyCodeLine{49     \textcolor{keywordtype}{int} opMode = 1;}
\DoxyCodeLine{50     \textcolor{keywordtype}{bool} isConnected = \textcolor{keyword}{false};}
\DoxyCodeLine{51 }
\DoxyCodeLine{52     std::string primaryLineText;}
\DoxyCodeLine{53     \textcolor{keyword}{const} \mbox{\hyperlink{struct_preset}{Preset}}* primaryLinePreset;}
\DoxyCodeLine{54     std::string secondaryLineText;}
\DoxyCodeLine{55     \textcolor{keyword}{const} \mbox{\hyperlink{struct_preset}{Preset}}* secondaryLinePreset;}
\DoxyCodeLine{56 }
\DoxyCodeLine{57     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} previousMillis = 0;}
\DoxyCodeLine{58     \textcolor{keywordtype}{int} showMessageInterval = 2000;}
\DoxyCodeLine{59     \textcolor{keywordtype}{bool} showMsgFlag = \textcolor{keyword}{false};}
\DoxyCodeLine{60 }
\DoxyCodeLine{61     \textcolor{comment}{//DISPLAY variables x1 for the first line, x2 for the second line}}
\DoxyCodeLine{62     \textcolor{keywordtype}{int} display\_x1 = 0;}
\DoxyCodeLine{63     \textcolor{keywordtype}{int} display\_minX1 = \mbox{\hyperlink{_spark_display_control_8h_ab3daf6b2504efad998c50d1a2c05dc6c}{DISPLAY\_MIN\_X\_FACTOR}} * 10;}
\DoxyCodeLine{64     \textcolor{keywordtype}{int} display\_scroll\_num1 = -\/1; \textcolor{comment}{// scroll speed, make more negative to speed up the scroll}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     \textcolor{keywordtype}{int} display\_x2 = 0;}
\DoxyCodeLine{67     \textcolor{keywordtype}{int} display\_minX2 = \mbox{\hyperlink{_spark_display_control_8h_ab3daf6b2504efad998c50d1a2c05dc6c}{DISPLAY\_MIN\_X\_FACTOR}} * 10;}
\DoxyCodeLine{68     \textcolor{keywordtype}{int} display\_scroll\_num2 = -\/1; \textcolor{comment}{// scroll speed, make more negative to speed up the scroll}}
\DoxyCodeLine{69 }
\DoxyCodeLine{70     \mbox{\hyperlink{class_spark_data_control}{SparkDataControl}}* dataControl() \{\textcolor{keywordflow}{return} spark\_dc;\}}
\DoxyCodeLine{71     \textcolor{keywordtype}{void} showInitialMessage();}
\DoxyCodeLine{72     \textcolor{keywordtype}{void} showConnection();}
\DoxyCodeLine{73     \textcolor{keywordtype}{void} showBankAndPresetNum();}
\DoxyCodeLine{74     \textcolor{keywordtype}{void} showPresetName();}
\DoxyCodeLine{75     \textcolor{keywordtype}{void} showFX\_SecondaryName();}
\DoxyCodeLine{76     \textcolor{keywordtype}{void} updateTextPositions();}
\DoxyCodeLine{77 }
\DoxyCodeLine{78     \textcolor{keywordtype}{void} drawCentreString(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *buf, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y);}
\DoxyCodeLine{79 }
\DoxyCodeLine{80     \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} epd\_bitmap\_Ignitron\_Logo[768] PROGMEM = \{}
\DoxyCodeLine{81             \textcolor{comment}{// 'Ignitron\_logo\_small, 128x47px}}
\DoxyCodeLine{82             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{83             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{84             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{85             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{86             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{87             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{88             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{89             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{90             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{91             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{92             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{93             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{94             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{95             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{96             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{97             0xff, 0xff, 0xc3, 0xc0, 0x08, 0xc0, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{98             0xff, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xc0, 0x00, 0x00, 0x00,}
\DoxyCodeLine{99             0x7f, 0xff, 0xff, 0xff, 0xff, 0x82, 0x1f, 0x80, 0x1f, 0xdf, 0xfe,}
\DoxyCodeLine{100             0x18, 0x60, 0x00, 0x00, 0x00, 0x3c, 0x47, 0xfe, 0xff, 0xbf, 0x81,}
\DoxyCodeLine{101             0x8c, 0x00, 0x08, 0x01, 0x26, 0x06, 0x60, 0x00, 0x0f, 0xf8, 0x10,}
\DoxyCodeLine{102             0x01, 0xe0, 0x04, 0x9f, 0xc7, 0xc8, 0x14, 0x00, 0x00, 0x02, 0x3f,}
\DoxyCodeLine{103             0x0c, 0x34, 0x1f, 0xfe, 0x00, 0x78, 0x00, 0x00, 0x0f, 0xc7, 0xc0,}
\DoxyCodeLine{104             0x7f, 0x80, 0xfc, 0x7c, 0x3f, 0x1f, 0xfe, 0x1f, 0xfe, 0x01, 0xfe,}
\DoxyCodeLine{105             0x03, 0xf1, 0xe7, 0xc7, 0xc0, 0xff, 0xc0, 0xfc, 0xfc, 0x3f, 0x1f,}
\DoxyCodeLine{106             0xfe, 0x0f, 0xff, 0x03, 0xff, 0x03, 0xf3, 0xf3, 0xc7, 0xc1, 0xff,}
\DoxyCodeLine{107             0xc0, 0xfc, 0xfc, 0x3f, 0x1f, 0xfe, 0x0f, 0xbf, 0x07, 0xff, 0x83,}
\DoxyCodeLine{108             0xf3, 0xf3, 0xc7, 0xc3, 0xff, 0xe0, 0xfe, 0xfc, 0x3f, 0x0f, 0xfc,}
\DoxyCodeLine{109             0x1f, 0x9f, 0x07, 0xef, 0x83, 0xf3, 0xf3, 0xc7, 0xc3, 0xf3, 0xe0,}
\DoxyCodeLine{110             0xfe, 0xfc, 0x3f, 0x01, 0xf0, 0x1f, 0x9f, 0x07, 0xcf, 0x83, 0xfb,}
\DoxyCodeLine{111             0xf3, 0xc7, 0xc3, 0xf3, 0xe0, 0xfe, 0xfc, 0x3f, 0x01, 0xf0, 0x1f,}
\DoxyCodeLine{112             0x9f, 0x0f, 0xcf, 0x83, 0xfb, 0xf3, 0xc7, 0xc3, 0xf3, 0xe0, 0xfe,}
\DoxyCodeLine{113             0xfc, 0x3f, 0x01, 0xf0, 0x0f, 0xbf, 0x0f, 0xcf, 0x83, 0xf3, 0xf3,}
\DoxyCodeLine{114             0xcf, 0xc3, 0xf0, 0x00, 0xfe, 0xfc, 0x3e, 0x01, 0xf0, 0x0f, 0xfe,}
\DoxyCodeLine{115             0x07, 0xcf, 0x83, 0xfb, 0xf3, 0xc7, 0x83, 0xf0, 0x00, 0xff, 0x7c,}
\DoxyCodeLine{116             0x3e, 0x01, 0xf0, 0x1f, 0xfc, 0x0f, 0xcf, 0x83, 0xff, 0xf3, 0xc7,}
\DoxyCodeLine{117             0xc3, 0xef, 0xe0, 0xff, 0xfc, 0x3f, 0x01, 0xf0, 0x0f, 0xfe, 0x0f,}
\DoxyCodeLine{118             0xcf, 0x83, 0xff, 0xf3, 0xc7, 0xc3, 0xef, 0xe0, 0xff, 0xfc, 0x3f,}
\DoxyCodeLine{119             0x01, 0xf0, 0x1f, 0xff, 0x0f, 0xcf, 0x83, 0xff, 0xf3, 0xc7, 0xc3,}
\DoxyCodeLine{120             0xff, 0xe0, 0xff, 0xfc, 0x3f, 0x01, 0xe0, 0x0f, 0x9f, 0x0f, 0xcf,}
\DoxyCodeLine{121             0x83, 0xff, 0xf3, 0xc7, 0xc3, 0xef, 0xe0, 0xfb, 0xfc, 0x3f, 0x01,}
\DoxyCodeLine{122             0xf0, 0x0f, 0x9f, 0x07, 0xcf, 0x83, 0xef, 0xf3, 0xc7, 0xc3, 0xf3,}
\DoxyCodeLine{123             0xe0, 0xfb, 0xfc, 0x3f, 0x01, 0xf0, 0x1f, 0x9f, 0x0f, 0xcf, 0x83,}
\DoxyCodeLine{124             0xef, 0xf1, 0xc7, 0xc3, 0xf3, 0xe0, 0xfb, 0xfc, 0x3f, 0x01, 0xf0,}
\DoxyCodeLine{125             0x1f, 0x9f, 0x0f, 0xcf, 0x83, 0xef, 0xf1, 0xc7, 0xc1, 0xe3, 0xe0,}
\DoxyCodeLine{126             0xfb, 0xfc, 0x3f, 0x03, 0xf1, 0x1f, 0x9f, 0x0f, 0xcf, 0x83, 0xef,}
\DoxyCodeLine{127             0xf1, 0xc7, 0xc3, 0xf3, 0xe0, 0xf9, 0xfc, 0x3f, 0x01, 0xf1, 0x9f,}
\DoxyCodeLine{128             0x9e, 0x07, 0xcf, 0x83, 0xe7, 0xf1, 0xc7, 0xc3, 0xff, 0xe0, 0xf9,}
\DoxyCodeLine{129             0xfc, 0x3e, 0x01, 0xf1, 0x9f, 0x9e, 0x07, 0xff, 0x83, 0xe7, 0xf1,}
\DoxyCodeLine{130             0x87, 0xc1, 0xff, 0xe0, 0xf9, 0xfc, 0x3f, 0x01, 0xf0, 0x9f, 0x9f,}
\DoxyCodeLine{131             0x07, 0xff, 0x03, 0xe7, 0xf3, 0x87, 0xc1, 0xff, 0xe0, 0xf8, 0xfc,}
\DoxyCodeLine{132             0x3e, 0x03, 0xf0, 0xcf, 0x9f, 0x03, 0xfe, 0x03, 0xe3, 0xf3, 0xc0,}
\DoxyCodeLine{133             0x00, 0xfb, 0xe0, 0xf8, 0xfc, 0x00, 0x01, 0xf0, 0xc0, 0x00, 0x00,}
\DoxyCodeLine{134             0xfc, 0x03, 0xe3, 0xf3, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,}
\DoxyCodeLine{135             0x00, 0x00, 0xc0, 0x00, 0x1e, 0x00, 0x30, 0x00, 0x03, 0xfc, 0x60,}
\DoxyCodeLine{136             0x00, 0x03, 0x1f, 0xc3, 0xb1, 0xc0, 0x00, 0xe0, 0x00, 0xff, 0xec,}
\DoxyCodeLine{137             0x3c, 0x7f, 0x4f, 0xff, 0xf8, 0x00, 0x03, 0xff, 0xff, 0xfb, 0xc0,}
\DoxyCodeLine{138             0x3f, 0xe0, 0x3b, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xd6,}
\DoxyCodeLine{139             0x03, 0xff, 0xff, 0xff, 0xcf, 0xff, 0xf7, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{140             0xff, 0xff, 0xff, 0xff, 0xff, 0xe3, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{141             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{142             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{143             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{144             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{145             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{146             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{147             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{148             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{149             0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,}
\DoxyCodeLine{150             0xff, 0xff, 0xff, 0xff \};}
\DoxyCodeLine{151 }
\DoxyCodeLine{152 }
\DoxyCodeLine{153 \};}
\DoxyCodeLine{154 }
\DoxyCodeLine{155 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* SPARKDISPLAYCONTROL\_H\_ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
